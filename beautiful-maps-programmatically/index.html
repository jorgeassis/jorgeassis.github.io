
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="google-site-verification" content="bk_G_7OoYI8N9v856DPvFsz4-FtC0ahvjuZJXRyYHnU" />

		<!-- SEO -->

		
			<title>Biodiversity Data Science | Develop beautiful maps programmatically</title>
			<meta property="og:title" content="Biodiversity Data Science | Develop beautiful maps programmatically" />
			<meta property="og:site_name" content="Biodiversity Data Science | Develop beautiful maps programmatically" />
			<meta property="twitter:title" content="Biodiversity Data Science | Develop beautiful maps programmatically" />

		


		<meta name="description" content="Leveraging data science for biodiversity conservation and supporting the UN 2030 Agenda for Sustainable Development.">
		<meta property="og:description" content="Leveraging data science for biodiversity conservation and supporting the UN 2030 Agenda for Sustainable Development." />

		<meta name="keywords" content="Biodiversity Data Science, Conservation Data Analysis, UN 2030 Sustainable Development, Marine Biodiversity Conservation, Environmental Data Science">
		<meta name="author" content="Jorge Assis">

		<meta name="generator" content="Jekyll v4.3.3" />
		<meta property="og:locale" content="en_US" />

		<meta property="og:type" content="https://www.biodiversitydatascience.com" />
		<meta name="twitter:card" content="Leveraging data science for biodiversity conservation and supporting the UN 2030 Agenda for Sustainable Development." />

		<!-- End Jekyll SEO tag -->


		<!-- Favicon -->
    <link href="/assets/images/bears.png" rel="shortcut icon">

		<!-- CSS -->
		<link href="/assets/plugins/bootstrap/bootstrap.min.css" rel="stylesheet">
		<link href="/assets/plugins/magnific-popup/magnific-popup.min.css" rel="stylesheet">
		<link href="/assets/plugins/owl-carousel/owl.carousel.min.css" rel="stylesheet">
		<link href="/assets/plugins/owl-carousel/owl.theme.default.min.css" rel="stylesheet">
		<link href="/assets/plugins/justified-gallery/justified-gallery.min.css" rel="stylesheet">
		<link href="/assets/plugins/sal/sal.min.css" rel="stylesheet">
		<link href="/assets/css/main.css" rel="stylesheet">

		<!-- Fonts/Icons -->
		<link href="/assets/plugins/font-awesome/css/all.css" rel="stylesheet">
		<link href="/assets/plugins/themify/themify-icons.min.css" rel="stylesheet">
		<link href="/assets/plugins/simple-line-icons/css/simple-line-icons.css" rel="stylesheet">


</head>


	<body data-preloader="4">
		<div class="wrapper">

			<!-- Header // sticky -->

			

			<div class="header">

				<div class="container margin-top-10">

					<div class="logo">
						<h5><a href="/">biodiversityDS</a><span style="color: #A22A2A">.</span></h5>
					</div>

					<div class="header-menu-wrapper">
						<ul class="header-menu">
							<li class="m-item">
								<a class="m-link" href="/about/">About</a>
							</li>
							<li class="m-item">
								<a class="m-link" href="/projects/">Projects</a>
							</li>
							<li class="m-item">
								<a class="m-link" href="/publications/">Publications</a>
							</li>
							<li class="m-item">
								<a class="m-link" href="https://medium.com/sea-change" target="_blank">Journal</a>
							</li>
							<li class="m-item">
								<a class="m-link" href="https://jorgemfa.podbean.com" target="_blank">Podcast</a>
							</li>

							<li class="m-item">
								<!-- <a class="m-link" href="/data-science-academy/">Data Science Academy</a> -->
								<a class="m-link" href="#">Data Science Academy</a>
								<ul class="m-dropdown">


									<li class="m-dropdown-item"><a class="m-dropdown-link" href="/our-team/">Our team</a></li>
									<li class="m-dropdown-item"><a class="m-dropdown-link" href="/our-team/#opportunities">Opportunities</a></li>

									<hr>

																	<li class="m-dropdown-item"><a class="m-dropdown-link" href="/code/">R and Python code</a></li>
									<li class="m-dropdown-item"><a class="m-dropdown-link" href="/courses/">BDS courses</a></li>
									<li class="m-dropdown-item"><a class="m-dropdown-link" href="/biodiversity-data/">Biodiversity data</a></li>
									<li class="m-dropdown-item"><a class="m-dropdown-link" href="/bio-oracle-climate-layers-ecological-distribution-modelling/">Environmental data</a></li>




								</ul>
							</li>
						</ul>

						<!-- Close Button -->
						<button class="close-button">
							<span></span>
						</button>
					</div>

					<!-- Menu Toggle on Mobile -->
					<button class="m-toggle">
						<span></span>
					</button>

				</div>
			</div>

			<!-- end Header -->


<div class="section">
	<div class="container" style="margin-top: 20px">
		<div class="row">
			<div class="col-12 col-lg-10 offset-lg-1 ">

        <div class="margin-bottom-10">
          <p class="font-family-secondary font-small">
            
            
            Open code
            
          </p>
        </div>

        <h3>Develop beautiful maps programmatically</h3>

        <div class="margin-top-10">
          <p class="font-family-secondary text-dark">We provide the basic elements and parameters to develop beautiful maps programmatically.</p>
        </div>

			</div>
		</div>

		<div class="row" style="margin-top: 60px">
			<div class="col-12 col-lg-10 offset-lg-1">

				<div class="margin-bottom-20">

          <div class="bg-image box-shadow border-radius-05 margin-bottom-10" data-bg-src="/assets/images/posts/annie-spratt-unsplash.webp" style="height: 425px; background-position: center">
          </div>

          <div class="margin-top-20 maintext margin-left-30 margin-right-30">

          

          

          <p>https://geocompr.robinlovelace.net/adv-map.html
https://r-spatial.org/r/2018/10/25/ggplot2-sf.html
https://cran.r-project.org/web/packages/graticule/vignettes/graticule.html</p>

<div style="padding: 20px" class="border-radius-05 bg-gray font-family-secondary font-small text-dark">

# Prepare data<br />
# Load libraries and dependences<br />
library(sdmpredictors)<br />
library(ggplot2)<br />
library(rnaturalearth)<br />
library(raster)<br />
library(sf)<br />
library(stars)<br /><br />

# Define the extent of the map<br />
cExtent &lt;- c(-180,180,45,90)<br /><br />

# Load sea ice thickness raster data<br />
iceMapMin &lt;- load_layers("BO21_icethickltmin_ss")<br />
iceMapMax &lt;- load_layers("BO21_icethickltmax_ss")<br /><br />

# Load a polygon defining landmasses<br />
worldMap &lt;- ne_countries(scale = 10, returnclass = "sp")<br /><br />

# Transform sea ice thickness in a binomial surface depicting presence / absence of sea ice<br />
iceMapMin[iceMapMin &gt; 0] &lt;- 1 ; iceMapMin[iceMapMin == 0] &lt;- NA<br />
iceMapMax[iceMapMax &gt; 0] &lt;- 1 ; iceMapMax[iceMapMax == 0] &lt;- NA<br /><br />

# Transform sea ice data raster to polygon data<br />
iceMapMin &lt;- as_Spatial(st_as_sf(st_as_stars(iceMapMin), as_points = FALSE, merge = TRUE) )<br />
iceMapMax &lt;- as_Spatial(st_as_sf(st_as_stars(iceMapMax), as_points = FALSE, merge = TRUE) )<br /><br />

# Crop ice data to the final exent<br />
iceMapMin &lt;- crop(gBuffer(iceMapMin, byid=TRUE, width=0),cExtent)<br />
iceMapMax &lt;- crop(gBuffer(iceMapMax, byid=TRUE, width=0),cExtent)<br /><br />

# Crop landmasses to the final exent<br />
worldMap &lt;- crop(worldMap,cExtent)<br />
worldMap &lt;- aggregate(worldMap,dissolve=T)<br />
worldMap &lt;- gSimplify(worldMap, tol = 0.05, topologyPreserve = TRUE)<br /><br />

# polar map<br />
x_lines &lt;- seq(-120,180, by = 60)<br />
iceMap &lt;- ggplot() +<br />
  geom_polygon(data = iceMapMax, aes(x = long, y = lat, group = group), fill="#BCD9EC", colour = NA) +<br />
  geom_path(data = iceMapMax, aes(x = long, y = lat, group = group), color = "#BCD9EC", size = 0.1) +<br />
  geom_polygon(data = iceMapMin, aes( x = long, y = lat, group = group), fill="#89B2C7", colour = NA) +<br />
  geom_path(data = iceMapMin, aes(x = long, y = lat, group = group), color = "#89B2C7", size = 0.1) +<br />
  geom_polygon(data = worldMap, aes(x = long, y = lat, group = group), fill="#E0DAD5", colour = NA) +<br />
  theme(legend.position = "none") +<br />
  theme(text = element_text(family = "Helvetica", color = "#22211d")) +<br />
  theme(panel.background = element_blank(), axis.ticks=element_blank()) +<br />
  coord_map("ortho", orientation = c(90, 0, 0)) +<br />
  scale_y_continuous(breaks = seq(45, 90, by = 5), labels = NULL) +<br />
  scale_x_continuous(breaks = NULL) + xlab("") +  ylab("") +<br />
  geom_text(size=3.5 , aes(x = 180, y = seq(53.3, 83.3, by = 15), hjust = -0.3, label = paste0(seq(55, 85, by = 15), "°N"))) +<br />
  geom_text(size=3.5 , aes(x = x_lines, y = (41 + c(-3,-3,0,-3,-3,0)), label = c("120°W", "60°W", "0°", "60°E", "120°E", "180°W"))) +<br />  
  geom_hline(aes(yintercept = 45), size = 0.5, colour = "gray")  +<br />
  geom_segment(size = 0.1,aes(y = 45, yend = 90, x = x_lines, xend = x_lines), linetype = "dashed") +<br />
  geom_segment(size = 1.2 ,aes(y = 45, yend = 45, x = -180, xend = 0), colour = "gray") +<br />
  geom_segment(size = 1.2 ,aes(y = 45, yend = 45, x = 180, xend = 0), colour = "gray") +<br />
  geom_segment(size = 0.1 ,aes(y = 55, yend = 55, x = -180, xend = 0), linetype = "dashed") +<br />
  geom_segment(size = 0.1 ,aes(y = 55, yend = 55, x = 180, xend = 0), linetype = "dashed") +<br />
  geom_segment(size = 0.1 ,aes(y = 70, yend = 70, x = -180, xend = 0), linetype = "dashed") +<br />
  geom_segment(size = 0.1 ,aes(y = 70, yend = 70, x = 180, xend = 0), linetype = "dashed") +<br />
  geom_segment(size = 0.1 ,aes(y = 85, yend = 85, x = -180, xend = 0), linetype = "dashed") +<br />
  geom_segment(size = 0.1 ,aes(y = 85, yend = 85, x = 180, xend = 0), linetype = "dashed")<br /><br />

iceMap

</div>

<p><img src="/assets/images/posts/C8_1.webp" alt="Map" /></p>

<p>With a set of additional code lines it is possible to generate a projection of sea ice extent for the future (year 2100), here with an example under the Representative Concentration Scenario 6.0.</p>

<div style="padding: 20px" class="border-radius-05 bg-gray font-family-secondary font-small text-dark">

iceMapMin &lt;- load_layers("BO21_RCP60_2100_icethickltmin_ss")<br />
iceMapMax &lt;- load_layers("BO21_RCP60_2100_icethickltmax_ss")<br />
library(gridExtra)<br />
grid.arrange(iceMapPresent, iceMapFuture, ncol=2)<br />

</div>

<p><img src="/assets/images/posts/C8_2.webp" alt="Map" /></p>


          </div>
        </div>

        <div class="margin-bottom-20 margin-left-30 margin-right-30">

              <ul class="list-inline-dash font-family-secondary font-small">
                <i class="fas fa-angle-double-right"></i> Share
                
                
                 code
                 on <a href="https://twitter.com/share?url=/beautiful-maps-programmatically/&text=Develop beautiful maps programmatically&via=bears.land&hashtags=">Twitter</a>
                 or <a href="https://www.facebook.com/sharer.php?s=100&p[url]=/beautiful-maps-programmatically/">Facebook</a>
              </ul>


              
              <div style="margin-top: 100px;">
              <h3>Main reference</h3>
              <p></p>
              </div>
              


              
              <ul class="list-inline-dash font-family-secondary font-small margin-top-20 text-dark">
                <i class="fas fa-angle-double-right"></i><a href="" target="_blank"> Access
                
                
                 source
                </a>
              </ul>
              

          </div>

        </div>
    </div>


		<div class="row">
			<div class="col-12 col-lg-10 offset-lg-1">

					<div class="margin-left-30 margin-right-30" style="margin-top: 85px;">
						<div>
							<ul class="list-inline-dash font-family-secondary">
                  
                  
                  <i class="fas fa-angle-double-right"></i> <li>Featured code</li>
                  
							</ul>
						</div>
					</div>

        </div>
    </div>

    <div class="row col-lg-10 border-radius-05 bg-gray offset-lg-1 margin-top-20 margin-bottom-30" style="padding-top: 10px; padding-bottom: 10px">

      
      
      

        

        <div style="margin-top: 10px; margin-bottom: 20px">

          <div class="content padding-x-20">
						<a href="/download-biodiversity-records-iNaturalist/"><h5>Downloading biodiversity records from iNaturalist</h5></a>
						<p class="font-family-secondary text-dark" style="font-size: 15px;">Automatically download biodiversity records from iNaturalist, the most recognised citizen science initiative.</p>
					</div>

				</div>

        
        

        

        <div style="margin-top: 10px; margin-bottom: 20px">

          <div class="content padding-x-20">
						<a href="/climate-layers-ecological-modelling/"><h5>Marine climate layers for ecological modelling</h5></a>
						<p class="font-family-secondary text-dark" style="font-size: 15px;">High-resolution marine data layers to model the distribution of species at global scales.</p>
					</div>

				</div>

        
        

      </div>

  </div>
</div>



	<!-- Google Analytics -->
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-4HVK8ZJMY6"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'G-4HVK8ZJMY6');
	</script>
	<!-- End Google Analytics -->


	<!-- Footer -->
	<div class="section bg-dark">
		<div class="container">
			<div class="row align-items-center">
				<div class="col-6 ">
					<h4>biodiversityDS<span style="color: #A22A2A">.</span></h4>
					<p class="font-small">Jorge Assis [PhD, Associate Researcher]<br>
						Centre of Marine Sciences, University of Algarve [Faro, Portugal]<br>
					© 2023 Biodiversity Data Science, All Rights Reserved</p>
				</div>

				<div class="col-6 text-right">
					<ul class="list-inline-sm">
						<li><a class="button-circle button-circle-sm button-circle-outline-white" target="_blank" href="https://twitter.com/jorgemfassis"><i class="fab fa-twitter"></i></a></li>
						<li><a class="button-circle button-circle-sm button-circle-outline-white" target="_blank" href="https://jorgemfa.medium.com"><i class="fab fa-medium-m"></i></a></li>
						<li><a class="button-circle button-circle-sm button-circle-outline-white" target="_blank" href="https://github.com/jorgeassis/"><i class="fab fa-github"></i></a></li>
						<li><a class="button-circle button-circle-sm button-circle-outline-white" href="mailto: jorgemfa@gmail.com"><i class="fab fas fa-at"></i></a></li>
					</ul>
				</div>

			</div><!-- end row -->
		</div><!-- end container -->
	</div>
	<!-- end Footer -->

</div>
<!-- end wrapper of header -->

<div class="scrolltotop">
  <a class="button-circle button-circle-md button-circle-dark" href="#">
    <i class="fa fa-angle-up"></i>
  </a>
</div>

<!-- JAVASCRIPTS -->
<script src="/assets/plugins/jquery.min.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=IntersectionObserver"></script>
<script src="/assets/plugins/plugins.js"></script>
<script src="/assets/js/functions.js"></script>
</body>
</html>

